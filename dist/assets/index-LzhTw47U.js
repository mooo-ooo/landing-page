import{r as l,u as Ce,L as Nt,j as e,s as Q,c as se,a as ke,g as gs,m as ge,b as ee,T as r,d as fs,l as Fe,t as Pt,e as Qe,f as Je,h as xe,S as bs,i as ms,B as Ut,k as Ie,n as ys,o as Ht,p as Ot,q as Kt,v as Ve,w as qt,x as ot,y as js,z as Ss,A as re,C as Vt,D as p,E as pe,F as dt,G as ut,H as ye,I as me,J as pt,K as Xe,M as O,N as vs,O as ws,P as Xt,Q as Ae,R as Ee,U as ht,V as $e,W as H,X as De,Y as Cs,Z as ks,$ as Is,a0 as Ts,a1 as we,a2 as Ye,a3 as Lt,a4 as At,a5 as je,a6 as Se,a7 as gt,a8 as Ze,a9 as xt,aa as Ge,ab as ft,ac as Yt,ad as Bs,ae as Ps,af as Ls,ag as nt,ah as Pe,ai as he,aj as As,ak as Es,al as $s,am as Ds,an as Ms,ao as Et,ap as Rs,aq as zs,ar as Ws,as as Fs,at as Ns,au as Gt,av as Y,aw as Us,ax as Hs,ay as Os,az as Ks,aA as Ne,aB as Ue,aC as rt,aD as qs,aE as Vs}from"./index-pdCJStm2.js";const Xs=t=>{const{alignItems:s,classes:o}=t;return ke({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},gs,o)},Ys=Q("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(ge(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),He=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiListItemIcon"}),{className:a,...u}=n,h=l.useContext(Nt),m={...n,alignItems:h.alignItems},f=Xs(m);return e.jsx(Ys,{className:se(f.root,a),ownerState:m,ref:o,...u})}),Gs=t=>{const{classes:s,inset:o,primary:n,secondary:a,dense:u}=t;return ke({root:["root",o&&"inset",u&&"dense",n&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},fs,s)},_s=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[{[`& .${Fe.primary}`]:s.primary},{[`& .${Fe.secondary}`]:s.secondary},s.root,o.inset&&s.inset,o.primary&&o.secondary&&s.multiline,o.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Pt.root}:where(& .${Fe.primary})`]:{display:"block"},[`.${Pt.root}:where(& .${Fe.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Oe=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiListItemText"}),{children:a,className:u,disableTypography:h=!1,inset:m=!1,primary:f,primaryTypographyProps:j,secondary:I,secondaryTypographyProps:B,slots:b={},slotProps:T={},...C}=n,{dense:E}=l.useContext(Nt);let A=f??a,W=I;const M={...n,disableTypography:h,inset:m,primary:!!A,secondary:!!W,dense:E},S=Gs(M),$={slots:b,slotProps:{primary:j,secondary:B,...T}},[v,V]=ee("root",{className:se(S.root,u),elementType:_s,externalForwardedProps:{...$,...C},ownerState:M,ref:o}),[te,F]=ee("primary",{className:S.primary,elementType:r,externalForwardedProps:$,ownerState:M}),[w,z]=ee("secondary",{className:S.secondary,elementType:r,externalForwardedProps:$,ownerState:M});return A!=null&&A.type!==r&&!h&&(A=e.jsx(te,{variant:E?"body2":"body1",component:F!=null&&F.variant?void 0:"span",...F,children:A})),W!=null&&W.type!==r&&!h&&(W=e.jsx(w,{variant:"body2",color:"textSecondary",...z,children:W})),e.jsxs(v,{...V,children:[A,W]})});function Qs(t){return Je("MuiSwitch",t)}const q=Qe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Js=t=>{const{classes:s,edge:o,size:n,color:a,checked:u,disabled:h}=t,m={root:["root",o&&`edge${xe(o)}`,`size${xe(n)}`],switchBase:["switchBase",`color${xe(a)}`,u&&"checked",h&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=ke(m,Qs,s);return{...s,...f}},Zs=Q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.edge&&s[`edge${xe(o.edge)}`],s[`size${xe(o.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${q.thumb}`]:{width:16,height:16},[`& .${q.switchBase}`]:{padding:4,[`&.${q.checked}`]:{transform:"translateX(16px)"}}}}]}),eo=Q(bs,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.switchBase,{[`& .${q.input}`]:s.input},o.color!=="default"&&s[`color${xe(o.color)}`]]}})(ge(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${q.checked}`]:{transform:"translateX(20px)"},[`&.${q.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${q.checked} + .${q.track}`]:{opacity:.5},[`&.${q.disabled} + .${q.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${q.input}`]:{left:"-100%",width:"300%"}})),ge(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(ms(["light"])).map(([s])=>({props:{color:s},style:{[`&.${q.checked}`]:{color:(t.vars||t).palette[s].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${q.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${s}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.55)}`}},[`&.${q.checked} + .${q.track}`]:{backgroundColor:(t.vars||t).palette[s].main}}}))]}))),to=Q("span",{name:"MuiSwitch",slot:"Track"})(ge(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),so=Q("span",{name:"MuiSwitch",slot:"Thumb"})(ge(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),_e=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiSwitch"}),{className:a,color:u="primary",edge:h=!1,size:m="medium",sx:f,slots:j={},slotProps:I={},...B}=n,b={...n,color:u,edge:h,size:m},T=Js(b),C={slots:j,slotProps:I},[E,A]=ee("root",{className:se(T.root,a),elementType:Zs,externalForwardedProps:C,ownerState:b,additionalProps:{sx:f}}),[W,M]=ee("thumb",{className:T.thumb,elementType:so,externalForwardedProps:C,ownerState:b}),S=e.jsx(W,{...M}),[$,v]=ee("track",{className:T.track,elementType:to,externalForwardedProps:C,ownerState:b});return e.jsxs(E,{...A,children:[e.jsx(eo,{type:"checkbox",icon:S,checkedIcon:S,ref:o,ownerState:b,...B,classes:{...T,root:T.switchBase},slots:{...j.switchBase&&{root:j.switchBase},...j.input&&{input:j.input}},slotProps:{...I.switchBase&&{root:typeof I.switchBase=="function"?I.switchBase(b):I.switchBase},input:{role:"switch"},...I.input&&{input:typeof I.input=="function"?I.input(b):I.input}}}),e.jsx($,{...v})]})});function oo(t){return Je("MuiTab",t)}const Z=Qe("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),no=t=>{const{classes:s,textColor:o,fullWidth:n,wrapped:a,icon:u,label:h,selected:m,disabled:f}=t,j={root:["root",u&&h&&"labelIcon",`textColor${xe(o)}`,n&&"fullWidth",a&&"wrapped",m&&"selected",f&&"disabled"],icon:["iconWrapper","icon"]};return ke(j,oo,s)},ro=Q(Ut,{name:"MuiTab",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.label&&o.icon&&s.labelIcon,s[`textColor${xe(o.textColor)}`],o.fullWidth&&s.fullWidth,o.wrapped&&s.wrapped,{[`& .${Z.iconWrapper}`]:s.iconWrapper},{[`& .${Z.icon}`]:s.icon}]}})(ge(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:s})=>s.label&&(s.iconPosition==="top"||s.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:s})=>s.label&&s.iconPosition!=="top"&&s.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:s})=>s.icon&&s.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:s,iconPosition:o})=>s.icon&&s.label&&o==="top",style:{[`& > .${Z.icon}`]:{marginBottom:6}}},{props:({ownerState:s,iconPosition:o})=>s.icon&&s.label&&o==="bottom",style:{[`& > .${Z.icon}`]:{marginTop:6}}},{props:({ownerState:s,iconPosition:o})=>s.icon&&s.label&&o==="start",style:{[`& > .${Z.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:s,iconPosition:o})=>s.icon&&s.label&&o==="end",style:{[`& > .${Z.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Z.selected}`]:{opacity:1},[`&.${Z.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Z.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Z.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Z.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Z.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:s})=>s.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:s})=>s.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),$t=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiTab"}),{className:a,disabled:u=!1,disableFocusRipple:h=!1,fullWidth:m,icon:f,iconPosition:j="top",indicator:I,label:B,onChange:b,onClick:T,onFocus:C,selected:E,selectionFollowsFocus:A,textColor:W="inherit",value:M,wrapped:S=!1,...$}=n,v={...n,disabled:u,disableFocusRipple:h,selected:E,icon:!!f,iconPosition:j,label:!!B,fullWidth:m,textColor:W,wrapped:S},V=no(v),te=f&&B&&l.isValidElement(f)?l.cloneElement(f,{className:se(V.icon,f.props.className)}):f,F=z=>{!E&&b&&b(z,M),T&&T(z)},w=z=>{A&&!E&&b&&b(z,M),C&&C(z)};return e.jsxs(ro,{focusRipple:!h,className:se(V.root,a),ref:o,role:"tab","aria-selected":E,disabled:u,onClick:F,onFocus:w,ownerState:v,tabIndex:E?0:-1,...$,children:[j==="top"||j==="start"?e.jsxs(l.Fragment,{children:[te,B]}):e.jsxs(l.Fragment,{children:[B,te]}),I]})}),lo=Ie(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),ao=Ie(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function io(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function co(t,s,o,n={},a=()=>{}){const{ease:u=io,duration:h=300}=n;let m=null;const f=s[t];let j=!1;const I=()=>{j=!0},B=b=>{if(j){a(new Error("Animation cancelled"));return}m===null&&(m=b);const T=Math.min(1,(b-m)/h);if(s[t]=u(T)*(o-f)+f,T>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(B)};return f===o?(a(new Error("Element already at target position")),I):(requestAnimationFrame(B),I)}const uo={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function po(t){const{onChange:s,...o}=t,n=l.useRef(),a=l.useRef(null),u=()=>{n.current=a.current.offsetHeight-a.current.clientHeight};return ys(()=>{const h=Ht(()=>{const f=n.current;u(),f!==n.current&&s(n.current)}),m=Ot(a.current);return m.addEventListener("resize",h),()=>{h.clear(),m.removeEventListener("resize",h)}},[s]),l.useEffect(()=>{u(),s(n.current)},[s]),e.jsx("div",{style:uo,...o,ref:a})}function ho(t){return Je("MuiTabScrollButton",t)}const xo=Qe("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),go=t=>{const{classes:s,orientation:o,disabled:n}=t;return ke({root:["root",o,n&&"disabled"]},ho,s)},fo=Q(Ut,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.orientation&&s[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${xo.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),bo=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiTabScrollButton"}),{className:a,slots:u={},slotProps:h={},direction:m,orientation:f,disabled:j,...I}=n,B=Kt(),b={isRtl:B,...n},T=go(b),C=u.StartScrollButtonIcon??lo,E=u.EndScrollButtonIcon??ao,A=Ve({elementType:C,externalSlotProps:h.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:b}),W=Ve({elementType:E,externalSlotProps:h.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:b});return e.jsx(fo,{component:"div",className:se(T.root,a),ref:o,role:null,ownerState:b,tabIndex:null,...I,style:{...I.style,...f==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${B?-90:90}deg)`}},children:m==="left"?e.jsx(C,{...A}):e.jsx(E,{...W})})});function mo(t){return Je("MuiTabs",t)}const lt=Qe("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Dt=(t,s)=>t===s?t.firstChild:s&&s.nextElementSibling?s.nextElementSibling:t.firstChild,Mt=(t,s)=>t===s?t.lastChild:s&&s.previousElementSibling?s.previousElementSibling:t.lastChild,Ke=(t,s,o)=>{let n=!1,a=o(t,s);for(;a;){if(a===t.firstChild){if(n)return;n=!0}const u=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||u)a=o(t,a);else{a.focus();return}}},yo=t=>{const{vertical:s,fixed:o,hideScrollbar:n,scrollableX:a,scrollableY:u,centered:h,scrollButtonsHideMobile:m,classes:f}=t;return ke({root:["root",s&&"vertical"],scroller:["scroller",o&&"fixed",n&&"hideScrollbar",a&&"scrollableX",u&&"scrollableY"],list:["list","flexContainer",s&&"flexContainerVertical",s&&"vertical",h&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",m&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},mo,f)},jo=Q("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[{[`& .${lt.scrollButtons}`]:s.scrollButtons},{[`& .${lt.scrollButtons}`]:o.scrollButtonsHideMobile&&s.scrollButtonsHideMobile},s.root,o.vertical&&s.vertical]}})(ge(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:s})=>s.vertical,style:{flexDirection:"column"}},{props:({ownerState:s})=>s.scrollButtonsHideMobile,style:{[`& .${lt.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),So=Q("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.scroller,o.fixed&&s.fixed,o.hideScrollbar&&s.hideScrollbar,o.scrollableX&&s.scrollableX,o.scrollableY&&s.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),vo=Q("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.list,s.flexContainer,o.vertical&&s.flexContainerVertical,o.centered&&s.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),wo=Q("span",{name:"MuiTabs",slot:"Indicator"})(ge(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:s})=>s.vertical,style:{height:"100%",width:2,right:0}}]}))),Co=Q(po)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Rt={},ko=l.forwardRef(function(s,o){const n=Ce({props:s,name:"MuiTabs"}),a=qt(),u=Kt(),{"aria-label":h,"aria-labelledby":m,action:f,centered:j=!1,children:I,className:B,component:b="div",allowScrollButtonsMobile:T=!1,indicatorColor:C="primary",onChange:E,orientation:A="horizontal",ScrollButtonComponent:W,scrollButtons:M="auto",selectionFollowsFocus:S,slots:$={},slotProps:v={},TabIndicatorProps:V={},TabScrollButtonProps:te={},textColor:F="primary",value:w,variant:z="standard",visibleScrollbar:oe=!1,...ce}=n,U=z==="scrollable",N=A==="vertical",le=N?"scrollTop":"scrollLeft",de=N?"top":"left",ae=N?"bottom":"right",ue=N?"clientHeight":"clientWidth",d=N?"height":"width",x={...n,component:b,allowScrollButtonsMobile:T,indicatorColor:C,orientation:A,vertical:N,scrollButtons:M,textColor:F,variant:z,visibleScrollbar:oe,fixed:!U,hideScrollbar:U&&!oe,scrollableX:U&&!N,scrollableY:U&&N,centered:j&&!U,scrollButtonsHideMobile:!T},L=yo(x),X=Ve({elementType:$.StartScrollButtonIcon,externalSlotProps:v.startScrollButtonIcon,ownerState:x}),J=Ve({elementType:$.EndScrollButtonIcon,externalSlotProps:v.endScrollButtonIcon,ownerState:x}),[G,g]=l.useState(!1),[y,D]=l.useState(Rt),[K,Me]=l.useState(!1),[bt,_t]=l.useState(!1),[mt,Qt]=l.useState(!1),[yt,Jt]=l.useState({overflow:"hidden",scrollbarWidth:0}),jt=new Map,ie=l.useRef(null),fe=l.useRef(null),ve={slots:$,slotProps:{indicator:V,scrollButton:te,...v}},St=()=>{const i=ie.current;let c;if(i){const P=i.getBoundingClientRect();c={clientWidth:i.clientWidth,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,scrollWidth:i.scrollWidth,top:P.top,bottom:P.bottom,left:P.left,right:P.right}}let k;if(i&&w!==!1){const P=fe.current.children;if(P.length>0){const R=P[jt.get(w)];k=R?R.getBoundingClientRect():null}}return{tabsMeta:c,tabMeta:k}},Te=ot(()=>{const{tabsMeta:i,tabMeta:c}=St();let k=0,P;N?(P="top",c&&i&&(k=c.top-i.top+i.scrollTop)):(P=u?"right":"left",c&&i&&(k=(u?-1:1)*(c[P]-i[P]+i.scrollLeft)));const R={[P]:k,[d]:c?c[d]:0};if(typeof y[P]!="number"||typeof y[d]!="number")D(R);else{const ne=Math.abs(y[P]-R[P]),be=Math.abs(y[d]-R[d]);(ne>=1||be>=1)&&D(R)}}),et=(i,{animation:c=!0}={})=>{c?co(le,ie.current,i,{duration:a.transitions.duration.standard}):ie.current[le]=i},vt=i=>{let c=ie.current[le];N?c+=i:c+=i*(u?-1:1),et(c)},wt=()=>{const i=ie.current[ue];let c=0;const k=Array.from(fe.current.children);for(let P=0;P<k.length;P+=1){const R=k[P];if(c+R[ue]>i){P===0&&(c=i);break}c+=R[ue]}return c},Zt=()=>{vt(-1*wt())},es=()=>{vt(wt())},[ts,{onChange:Re,...ss}]=ee("scrollbar",{className:se(L.scrollableX,L.hideScrollbar),elementType:Co,shouldForwardComponentProp:!0,externalForwardedProps:ve,ownerState:x}),os=l.useCallback(i=>{Re==null||Re(i),Jt({overflow:null,scrollbarWidth:i})},[Re]),[Ct,kt]=ee("scrollButtons",{className:se(L.scrollButtons,te.className),elementType:bo,externalForwardedProps:ve,ownerState:x,additionalProps:{orientation:A,slots:{StartScrollButtonIcon:$.startScrollButtonIcon||$.StartScrollButtonIcon,EndScrollButtonIcon:$.endScrollButtonIcon||$.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:X,endScrollButtonIcon:J}}}),ns=()=>{const i={};i.scrollbarSizeListener=U?e.jsx(ts,{...ss,onChange:os}):null;const k=U&&(M==="auto"&&(K||bt)||M===!0);return i.scrollButtonStart=k?e.jsx(Ct,{direction:u?"right":"left",onClick:Zt,disabled:!K,...kt}):null,i.scrollButtonEnd=k?e.jsx(Ct,{direction:u?"left":"right",onClick:es,disabled:!bt,...kt}):null,i},It=ot(i=>{const{tabsMeta:c,tabMeta:k}=St();if(!(!k||!c)){if(k[de]<c[de]){const P=c[le]+(k[de]-c[de]);et(P,{animation:i})}else if(k[ae]>c[ae]){const P=c[le]+(k[ae]-c[ae]);et(P,{animation:i})}}}),ze=ot(()=>{U&&M!==!1&&Qt(!mt)});l.useEffect(()=>{const i=Ht(()=>{ie.current&&Te()});let c;const k=ne=>{ne.forEach(be=>{be.removedNodes.forEach(Be=>{c==null||c.unobserve(Be)}),be.addedNodes.forEach(Be=>{c==null||c.observe(Be)})}),i(),ze()},P=Ot(ie.current);P.addEventListener("resize",i);let R;return typeof ResizeObserver<"u"&&(c=new ResizeObserver(i),Array.from(fe.current.children).forEach(ne=>{c.observe(ne)})),typeof MutationObserver<"u"&&(R=new MutationObserver(k),R.observe(fe.current,{childList:!0})),()=>{i.clear(),P.removeEventListener("resize",i),R==null||R.disconnect(),c==null||c.disconnect()}},[Te,ze]),l.useEffect(()=>{const i=Array.from(fe.current.children),c=i.length;if(typeof IntersectionObserver<"u"&&c>0&&U&&M!==!1){const k=i[0],P=i[c-1],R={root:ie.current,threshold:.99},ne=st=>{Me(!st[0].isIntersecting)},be=new IntersectionObserver(ne,R);be.observe(k);const Be=st=>{_t(!st[0].isIntersecting)},Bt=new IntersectionObserver(Be,R);return Bt.observe(P),()=>{be.disconnect(),Bt.disconnect()}}},[U,M,mt,I==null?void 0:I.length]),l.useEffect(()=>{g(!0)},[]),l.useEffect(()=>{Te()}),l.useEffect(()=>{It(Rt!==y)},[It,y]),l.useImperativeHandle(f,()=>({updateIndicator:Te,updateScrollButtons:ze}),[Te,ze]);const[rs,ls]=ee("indicator",{className:se(L.indicator,V.className),elementType:wo,externalForwardedProps:ve,ownerState:x,additionalProps:{style:y}}),Tt=e.jsx(rs,{...ls});let We=0;const as=l.Children.map(I,i=>{if(!l.isValidElement(i))return null;const c=i.props.value===void 0?We:i.props.value;jt.set(c,We);const k=c===w;return We+=1,l.cloneElement(i,{fullWidth:z==="fullWidth",indicator:k&&!G&&Tt,selected:k,selectionFollowsFocus:S,onChange:E,textColor:F,value:c,...We===1&&w===!1&&!i.props.tabIndex?{tabIndex:0}:{}})}),is=i=>{if(i.altKey||i.shiftKey||i.ctrlKey||i.metaKey)return;const c=fe.current,k=js(Ss(c));if((k==null?void 0:k.getAttribute("role"))!=="tab")return;let R=A==="horizontal"?"ArrowLeft":"ArrowUp",ne=A==="horizontal"?"ArrowRight":"ArrowDown";switch(A==="horizontal"&&u&&(R="ArrowRight",ne="ArrowLeft"),i.key){case R:i.preventDefault(),Ke(c,k,Mt);break;case ne:i.preventDefault(),Ke(c,k,Dt);break;case"Home":i.preventDefault(),Ke(c,null,Dt);break;case"End":i.preventDefault(),Ke(c,null,Mt);break}},tt=ns(),[cs,ds]=ee("root",{ref:o,className:se(L.root,B),elementType:jo,externalForwardedProps:{...ve,...ce,component:b},ownerState:x}),[us,ps]=ee("scroller",{ref:ie,className:L.scroller,elementType:So,externalForwardedProps:ve,ownerState:x,additionalProps:{style:{overflow:yt.overflow,[N?`margin${u?"Left":"Right"}`:"marginBottom"]:oe?void 0:-yt.scrollbarWidth}}}),[hs,xs]=ee("list",{ref:fe,className:se(L.list,L.flexContainer),elementType:vo,externalForwardedProps:ve,ownerState:x,getSlotProps:i=>({...i,onKeyDown:c=>{var k;is(c),(k=i.onKeyDown)==null||k.call(i,c)}})});return e.jsxs(cs,{...ds,children:[tt.scrollButtonStart,tt.scrollbarSizeListener,e.jsxs(us,{...ps,children:[e.jsx(hs,{"aria-label":h,"aria-labelledby":m,"aria-orientation":A==="vertical"?"vertical":null,role:"tablist",...xs,children:as}),G&&Tt]}),tt.scrollButtonEnd]})}),Io=Ie(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z"})),To=Ie(e.jsx("path",{d:"M5 16c0 3.87 3.13 7 7 7s7-3.13 7-7v-4H5zM16.12 4.37l2.1-2.1-.82-.83-2.3 2.31C14.16 3.28 13.12 3 12 3s-2.16.28-3.09.75L6.6 1.44l-.82.83 2.1 2.1C6.14 5.64 5 7.68 5 10v1h14v-1c0-2.32-1.14-4.36-2.88-5.63M9 9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),Bo=Ie(e.jsx("path",{d:"M19 13H5v-2h14z"})),Le=Ie(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),zt=[{value:"binance",label:"Binance"},{value:"okx",label:"OKX"},{value:"bybit",label:"Bybit"},{value:"coinex",label:"Coinex"},{value:"huobi",label:"Huobi"},{value:"gate",label:"Gate"},{value:"bitget",label:"Bitget"}],Po=["bitget","okx"];function Lo(){var X,J,G;const t=re(Vt),[s,o]=l.useState(),[n,a]=l.useState(),[u,h]=l.useState(!1),[m,f]=l.useState(!1),[j,I]=l.useState(!1),[B,b]=l.useState([]),[T,C]=l.useState(null),[E,A]=l.useState(""),[W,M]=l.useState(""),[S,$]=l.useState(null),[v,V]=l.useState(null),[te,F]=l.useState(!1),[w,z]=l.useState({exchange:"",key:"",secret:"",passphrase:"",token:""}),oe=g=>B==null?void 0:B.find(y=>y.exchange===g),ce=async()=>{var g,y;try{const D=await je.get("/api/v1/exchange/configured",{headers:{"x-group-id":"1"}});D.data&&b(D.data)}catch(D){D instanceof Se?o(((y=(g=D.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to fetch API keys"):o("An unexpected error occurred while fetching API keys")}};l.useEffect(()=>{ce()},[]);const U=g=>{const{name:y,value:D}=g.target;z(K=>({...K,[y]:D}))},N=async g=>{var y,D;g.preventDefault(),h(!0),o(void 0),a(void 0);try{const K={exchange:w.exchange,key:w.key,secret:w.secret,passphrase:w.passphrase||void 0,token:w.token};await je.post("/api/v1/exchange/keys",K),a("API keys saved successfully"),z({exchange:"",key:"",secret:"",passphrase:"",token:""}),C(null),F(!1),ce()}catch(K){K instanceof Se?o(((D=(y=K.response)==null?void 0:y.data)==null?void 0:D.message)||"Failed to save API keys"):o("An unexpected error occurred")}finally{h(!1)}},le=g=>{C(g),z({exchange:g,key:"",secret:"",passphrase:"",token:""}),F(!0)},de=async g=>{var y,D;o(void 0),h(!0);try{await je.delete(`/api/v1/exchange/keys?exchange=${g}&token=${E}`),ce(),$(null),a("API keys removed successfully")}catch(K){$(null),K instanceof Se?o(((D=(y=K.response)==null?void 0:y.data)==null?void 0:D.message)||"Failed to save API keys"):o("An unexpected error occurred")}finally{h(!1)}},ae=async(g,y)=>{var D,K;o(void 0),h(!0);try{await je.put("/api/v1/exchange/enable",{exchange:g,enabled:y,token:W}),ce(),V(null),a("API keys updated successfully")}catch(Me){V(null),Me instanceof Se?o(((K=(D=Me.response)==null?void 0:D.data)==null?void 0:K.message)||"Failed to save API keys"):o("An unexpected error occurred")}finally{h(!1),M("")}},ue=g=>{C(null),z({exchange:g,key:"",secret:"",passphrase:"",token:""}),F(!0)},d=()=>{F(!1),C(null),z({exchange:"",key:"",secret:"",passphrase:"",token:""})},x=((X=t[S==null?void 0:S.toLowerCase()])==null?void 0:X.length)>0,L=((G=t[(J=v==null?void 0:v.exchange)==null?void 0:J.toLowerCase()])==null?void 0:G.length)>0;return e.jsxs(p,{maxWidth:"lg",display:"flex",flexDirection:"column",gap:"12px",py:"16px",children:[e.jsxs(p,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",component:"h1",gutterBottom:!0,children:"Exchange API Keys"}),e.jsx(r,{variant:"body1",color:"textSecondary",children:"Manage your exchange API keys for automated trading"})]}),s&&e.jsx(pe,{severity:"error",sx:{mb:2},children:s}),n&&e.jsx(pe,{severity:"success",sx:{mb:2},children:n}),e.jsx(p,{sx:{mb:4},children:e.jsxs(dt,{children:[e.jsx(ut,{children:e.jsxs(ye,{children:[e.jsx(me,{children:e.jsx(r,{color:"textSecondary",children:"Exchange"})}),e.jsx(me,{children:e.jsx(r,{color:"textSecondary",children:"Status"})}),e.jsx(me,{align:"right",children:e.jsx(r,{color:"textSecondary",children:"Actions"})})]})}),e.jsx(pt,{children:zt.map(g=>{const y=oe(g.value);return e.jsxs(ye,{sx:{opacity:(y==null?void 0:y.enabled)===!1?"0.5":"1"},children:[e.jsx(me,{children:e.jsxs(p,{display:"flex",gap:2,children:[e.jsx("img",{width:20,height:20,style:{borderRadius:"50%"},src:`/${g.label.toLowerCase()}.png`}),e.jsx(r,{children:g.label})]})}),e.jsx(me,{children:y?e.jsx(p,{children:e.jsx(Xe,{control:e.jsx(_e,{color:"success",checked:y.enabled,onChange:()=>{V({exchange:y.exchange,status:!y.enabled})}}),label:"enable"})}):e.jsx(r,{color:"textSecondary",children:"Not configured"})}),e.jsx(me,{align:"right",children:y?e.jsxs(p,{display:"flex",gap:2,justifyContent:"flex-end",children:[e.jsx(O,{variant:"outlined",startIcon:e.jsx(vs,{}),onClick:()=>le(y.exchange),children:"Update"}),e.jsx(O,{variant:"outlined",color:"error",startIcon:e.jsx(ws,{}),onClick:()=>$(g.label),children:"Remove"})]}):e.jsx(O,{sx:{width:84},variant:"outlined",startIcon:e.jsx(Xt,{}),onClick:()=>ue(g.value),children:"Add"})})]},g.value)})})]})}),e.jsxs(Ae,{open:!!S,onClose:()=>$(null),sx:{"& .MuiDialog-paper":{width:"650px"}},maxWidth:"xl",children:[e.jsxs(Ee,{sx:{fontSize:16,background:"#1e2026",color:ht},children:["Delete ",S,"'s api key"]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs($e,{sx:{background:"#1e2026",paddingBottom:"32px"},children:[e.jsx(r,{children:x?"You cannot delete this api key because you still have open positions.":"Please double-check and make sure this exchange has closed all positions."}),x?null:e.jsx(H,{fullWidth:!0,label:"2FA Code",name:"token",value:E,onChange:g=>A(g.target.value),required:!0,sx:{my:2},placeholder:"Enter code from your authenticator app",inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"}})]}),e.jsxs(De,{sx:{width:"100%",background:"#1e2026"},children:[e.jsx(O,{color:"inherit",onClick:()=>$(null),children:"Cancel"}),e.jsx(O,{onClick:()=>S&&de(S==null?void 0:S.toLowerCase()),color:"error",type:"submit",variant:"contained",disabled:u||x,children:u?"Removing...":"Remove api key"})]})]})]}),e.jsxs(Ae,{open:!!(v!=null&&v.exchange),onClose:()=>$(null),sx:{"& .MuiDialog-paper":{width:"650px"}},maxWidth:"xl",children:[e.jsxs(Ee,{sx:{fontSize:16,background:"#1e2026",color:ht},children:[v!=null&&v.status?"Enable":"Disable"," ",v==null?void 0:v.exchange,"'s api key"]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs($e,{sx:{background:"#1e2026",paddingBottom:"32px"},children:[e.jsx(r,{children:L?"You cannot disable this api key because you still have open positions.":"Please double-check and make sure this exchange has closed all positions."}),L?null:e.jsx(H,{fullWidth:!0,label:"2FA Code",name:"token",value:W,onChange:g=>M(g.target.value),required:!0,sx:{my:2},placeholder:"Enter code from your authenticator app",inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"}})]}),e.jsxs(De,{sx:{width:"100%",background:"#1e2026"},children:[e.jsx(O,{color:"inherit",onClick:()=>V(null),children:"Cancel"}),e.jsx(O,{onClick:()=>{var g;return(v==null?void 0:v.exchange)&&ae((g=v==null?void 0:v.exchange)==null?void 0:g.toLowerCase(),v.status)},color:"error",type:"submit",variant:"contained",disabled:u||x,children:u?"Updating...":v!=null&&v.status?"Enable":"Disable"})]})]})]}),e.jsxs(Ae,{open:te,onClose:d,sx:{"& .MuiDialog-paper":{width:"650px"}},maxWidth:"xl",children:[e.jsx(Ee,{sx:{fontSize:16,background:"#1e2026"},children:T?"Update API Keys":"Add New API Keys"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs($e,{sx:{background:"#1e2026",paddingBottom:"32px"},children:[e.jsxs(Cs,{fullWidth:!0,sx:{mb:2},children:[e.jsx(ks,{id:"exchange-label",children:"Exchange"}),e.jsx(Is,{labelId:"exchange-label",name:"exchange",value:w.exchange,label:"Exchange",onChange:U,required:!0,disabled:!!T,children:zt.map(g=>e.jsx(Ts,{value:g.value,children:g.label},g.value))})]}),e.jsx(H,{fullWidth:!0,label:"API Key",name:"key",value:w.key,onChange:U,InputProps:{autoComplete:"off"},sx:{mb:2}}),e.jsx(H,{fullWidth:!0,label:"Secret Key",name:"secret",type:"password",value:w.secret,onChange:U,sx:{mb:2},InputProps:{autoComplete:"off",endAdornment:e.jsx(we,{position:"end",children:e.jsx(Ye,{onClick:()=>f(!m),edge:"end",children:m?e.jsx(Lt,{}):e.jsx(At,{})})})}}),Po.includes(w.exchange)?e.jsx(H,{fullWidth:!0,label:"Passphrase (Optional)",name:"passphrase",type:j?"text":"password",value:w.passphrase,onChange:U,sx:{mb:2},InputProps:{endAdornment:e.jsx(we,{position:"end",children:e.jsx(Ye,{onClick:()=>I(!j),edge:"end",children:j?e.jsx(Lt,{}):e.jsx(At,{})})})}}):null,e.jsx(H,{fullWidth:!0,label:"2FA Code",name:"token",value:w.token,onChange:U,required:!0,sx:{mb:2},placeholder:"Enter code from your authenticator app",inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"}})]}),e.jsxs(De,{sx:{width:"100%",background:"#1e2026"},children:[e.jsx(O,{onClick:d,children:"Cancel"}),e.jsx(O,{type:"submit",variant:"contained",disabled:u,children:u?"Saving...":T?"Update Keys":"Save Keys"})]})]})]})]})}function Ao(){const t=gt(),s=re(Ze),[o,n]=l.useState(),[a,u]=l.useState(),[h,m]=l.useState(!1),[f,j]=l.useState({...xt.pick(s,["telePriorityToken","teleLogToken","telePriorityId","teleLogId"]),token:""}),I=async()=>{var b,T;n(void 0),m(!0);try{await je.put("/api/v1/groups/me",{...f,type:"telegram"}),t(ft()),u("settings updated successfully")}catch(C){C instanceof Se?n(((T=(b=C.response)==null?void 0:b.data)==null?void 0:T.message)||"Failed to save API keys"):n("An unexpected error occurred")}finally{m(!1),j(C=>({...C,token:""}))}},B=b=>{const{name:T,value:C}=b.target;j(E=>({...E,[T]:C}))};return e.jsxs(p,{display:"flex",flexDirection:"column",gap:"12px",py:"16px",children:[e.jsxs(p,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",component:"h1",gutterBottom:!0,children:"Telegram settings"}),e.jsx(r,{variant:"body1",color:"textSecondary",children:"Stay updated on important information by using Telegram."})]}),o&&e.jsx(pe,{severity:"error",sx:{mb:2},children:o}),a&&e.jsx(pe,{severity:"success",sx:{mb:2},children:a}),e.jsxs(p,{display:"flex",flexDirection:"row",gap:"24px",children:[e.jsxs(p,{children:[e.jsx(p,{mb:2,children:e.jsx(r,{children:"This group provides important announcements that require immediate action to protect your positions and capital"})}),e.jsx(r,{color:"textSecondary",children:"Important group token"}),e.jsx(H,{fullWidth:!0,size:"small",name:"telePriorityToken",value:f.telePriorityToken,onChange:B,InputProps:{autoComplete:"off"},sx:{mb:4}}),e.jsx(r,{color:"textSecondary",children:"Important bot id"}),e.jsx(H,{size:"small",fullWidth:!0,name:"telePriorityId",value:f.telePriorityId,onChange:B,InputProps:{autoComplete:"off"},sx:{mb:4}}),e.jsxs(pe,{severity:"info",children:[e.jsx(Ge,{children:"Actions"}),e.jsxs(p,{children:[e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Withdrawing assets"}),e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Receiving assets"}),e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Updating api keys"})]})]})]}),e.jsxs(p,{sx:{borderLeft:"1px solid rgba(255, 255, 255, 0.12)"},paddingLeft:"24px",children:[e.jsx(r,{mb:2,children:"This group provides notifications about order spread rates, good deals available on the market, and your current leverage."}),e.jsx(r,{color:"textSecondary",children:"Log group token"}),e.jsx(H,{size:"small",fullWidth:!0,name:"teleLogToken",value:f.teleLogToken,onChange:B,InputProps:{autoComplete:"off"},sx:{mb:4}}),e.jsx(r,{color:"textSecondary",children:"Log bot id"}),e.jsx(H,{size:"small",fullWidth:!0,name:"teleLogId",value:f.teleLogId,onChange:B,InputProps:{autoComplete:"off"},sx:{mb:4}}),e.jsxs(pe,{severity:"info",children:[e.jsx(Ge,{children:"Actions"}),e.jsxs(p,{children:[e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Exchange leverage (cross)"}),e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Open/close spread"}),e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"- Positions / Equites"})]})]})]})]}),e.jsx(p,{borderTop:"1px solid rgba(255, 255, 255, 0.12)",paddingTop:"24px",display:"flex",width:"100%",justifyContent:"flex-end",alignItems:"center",mt:1,children:e.jsxs(p,{display:"flex",width:"100%",justifyContent:"space-between",sx:{width:"50%"},children:[e.jsx(H,{size:"small",label:"2FA Token",name:"token",sx:{width:"250px"},value:f.token,onChange:B,InputProps:{autoComplete:"off"}}),e.jsx(p,{display:"flex",alignItems:"flex-end",children:e.jsx(O,{type:"submit",variant:"contained",startIcon:e.jsx(Le,{}),disabled:h||f.token.length!==6,onClick:I,children:h?"Saving...":"Save"})})]})})]})}function Eo(){var ue;const t=gt(),s=re(Ze),{enqueueSnackbar:o}=Yt(),[n,a]=l.useState(!1),u=re(Bs),h=re(Ps),m=re(Vt),f=Ls([]),[j,I]=l.useState(""),[B,b]=l.useState(s.hedgingAmount.toString()),[T,C]=l.useState(Number(s.volumeThreshold)>0),[E,A]=l.useState(Number(s.hedgingAmount)>0),[W,M]=l.useState((ue=s.volumeThreshold)==null?void 0:ue.toString()),[S,$]=l.useState(s.tokenLiquidityDistance||{}),[v,V]=l.useState({...s.exchangeLeverages}),[te,F]=l.useState(!1),[w,z]=l.useState(null),oe=async d=>{let x={};switch(d){case"force-close":x={volumeThreshold:Number(W)};break;case"hedging":x={hedgingAmount:Number(B)};break;case"exchange-leverages":x={exchangeLeverages:Et(s.exchangeLeverages,Rs(v))};break;case"positions":x={tokenLiquidityDistance:Et(s.tokenLiquidityDistance,S)};break}z({type:d,changes:x}),F(!0)},ce=async()=>{var d,x;if(!(!w||!j)){a(!0);try{await je.put("/api/v1/groups/me",{...w.changes,type:w.type,token:j}),o("Updated successfully",{variant:"success"}),await t(ft()),F(!1),z(null),I("")}catch(L){L instanceof Se?o(((x=(d=L.response)==null?void 0:d.data)==null?void 0:x.message)||"Failed to save settings",{variant:"error"}):o("An unexpected error occurred",{variant:"error"})}finally{a(!1)}}},U=d=>{const{name:x,value:L}=d.target;V(X=>({...X,[x]:L}))},[N,le]=l.useState(0),de=(d,x)=>{le(x)},ae=d=>{const{name:x,value:L}=d.target;let X;if(x.includes(".")){const[J,G]=x.split("."),g=Number(L)>90?90:Number(L)<0?0:Number(L);X={...S,[J]:{...S[J],[G]:g}},console.log(X),$(X)}};return e.jsxs(p,{display:"flex",flexDirection:"column",gap:"12px",py:"16px",children:[e.jsxs(p,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",gutterBottom:!0,children:"Bot settings"}),e.jsx(r,{variant:"body1",color:"textSecondary",children:"Your positions are checked every 3 seconds."}),e.jsx(r,{fontStyle:"italic",color:"textSecondary",children:"(Very important, need to understand clearly before choosing to run this bot, please do your own research)"})]}),e.jsx(nt,{sx:{background:"rgb(30, 32, 38)"},children:e.jsxs(Pe,{children:[e.jsx(r,{sx:{fontWeight:"bold"},gutterBottom:!0,children:"1. Force-closing Bot"}),e.jsx(r,{color:he,gutterBottom:!0,children:`If the position's volume on two exchanges deviates by more than the "volumeThreshold", both positions will be force-closed.`}),e.jsx(Xe,{control:e.jsx(_e,{color:"success",checked:T,onChange:d=>{var x;C(d.target.checked),d.target.checked?M(((x=s.volumeThreshold)==null?void 0:x.toString())||""):M("0")}}),label:"Enable bot"}),e.jsxs(p,{sx:{mt:2},display:"flex",alignItems:"center",gap:2,justifyContent:"flex-start",children:[e.jsx(H,{size:"small",sx:{width:"350px"},name:"volumeThreshold",value:W,disabled:!T,onChange:d=>M(d.target.value),slotProps:{input:{endAdornment:e.jsx(we,{position:"end",children:"USDT"})}}}),e.jsx(O,{type:"submit",variant:"outlined",startIcon:e.jsx(Le,{}),disabled:n,onClick:()=>oe("force-close"),children:n?"Saving...":"Save"})]})]})}),e.jsx(p,{height:8}),e.jsx(nt,{sx:{background:"rgb(30, 32, 38)"},children:e.jsxs(Pe,{children:[e.jsx(r,{sx:{fontWeight:"bold"},gutterBottom:!0,children:"2. Hedging Bot"}),e.jsxs(r,{color:he,gutterBottom:!0,children:["If the cross margin leverage limit"," ",e.jsx(r,{component:"span",sx:{fontStyle:"italic"},children:"(section 3)"})," ","set by the exchange is exceeded, this USDT amount will be transferred to hedge the position."]}),e.jsx(Xe,{control:e.jsx(_e,{color:"success",checked:E,onChange:d=>{A(d.target.checked),d.target.checked?b(s.hedgingAmount.toString()||"0"):b("0")}}),label:"Enable bot"}),e.jsxs(p,{sx:{mt:2},display:"flex",alignItems:"center",gap:2,justifyContent:"flex-start",children:[e.jsx(H,{size:"small",sx:{width:"350px"},name:"hedgingAmount",value:B,disabled:!E,onChange:d=>b(d.target.value),slotProps:{input:{endAdornment:e.jsx(we,{position:"end",children:"USDT"})}}}),e.jsx(O,{type:"submit",variant:"outlined",startIcon:e.jsx(Le,{}),disabled:n,onClick:()=>oe("hedging"),children:n?"Saving...":"Save"})]})]})}),e.jsx(p,{height:8}),e.jsx(nt,{sx:{background:"rgb(30, 32, 38)"},children:e.jsxs(Pe,{children:[e.jsx(r,{sx:{fontWeight:"bold"},gutterBottom:!0,children:"3. Trigger hedging"}),e.jsx(p,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ko,{value:N,onChange:de,"aria-label":"basic tabs example",children:[e.jsx($t,{label:"Exchanges",...Wt(0)}),e.jsx($t,{label:"Positons",...Wt(1)})]})}),e.jsx(Ft,{value:N,index:0,children:e.jsxs(Pe,{children:[e.jsx(r,{color:he,gutterBottom:!0,children:"If the cross margin level of the positions exceeds the permitted limit, the bot will search for the exchange with the highest available margin and transfer the amount configured in section 2 (Hedging amount) to reduce the leverage."}),e.jsxs(dt,{children:[e.jsx(ut,{sx:{position:"sticky",top:0,zIndex:10},children:e.jsxs(ye,{sx:{height:"48px"},children:[e.jsx(_,{align:"left",children:e.jsx(r,{color:"textSecondary",children:"Exchange"})}),e.jsx(_,{align:"left",children:e.jsx(r,{color:"textSecondary",children:"Current leverage"})}),e.jsx(_,{align:"right",children:e.jsx(r,{color:"textSecondary",children:"Trigger leverage"})})]})}),e.jsx(pt,{children:u?e.jsx(ye,{children:e.jsx(_,{colSpan:4,children:e.jsxs(pe,{severity:"error",children:[e.jsx(Ge,{children:"Fetching balances error"}),u]})})}):Object.keys(h).map(d=>{var J,G;const x=(J=m[d])==null?void 0:J.reduce((g,{markPrice:y,size:D})=>g=g+y*D,0),L=((G=m[d])==null?void 0:G.length)>0,X=h[d].future;return L?e.jsx(l.Fragment,{children:e.jsxs(ye,{children:[e.jsx(_,{children:e.jsxs(p,{display:"flex",justifyItems:"center",gap:2,children:[e.jsx("img",{style:{borderRadius:"50%"},src:`/${d}.png`,alt:"USDT",width:20,height:20}),e.jsx(r,{textTransform:"capitalize",children:d})]})}),e.jsx(_,{children:e.jsxs(r,{children:["x",Es(x/X.marginBalance).format("0.0")]})}),e.jsx(_,{align:"right",children:e.jsx(H,{sx:{width:"200px"},type:"number",size:"small",name:d.toLowerCase(),value:v[d.toLowerCase()],onChange:U,autoComplete:"off"})})]},d)},d):null})})]}),e.jsx(p,{sx:{mt:2},display:"flex",alignItems:"center",justifyContent:"flex-end",children:e.jsx(O,{type:"submit",variant:"outlined",startIcon:e.jsx(Le,{}),disabled:n,onClick:()=>oe("exchange-leverages"),children:n?"Saving...":"Save"})})]})}),e.jsx(Ft,{value:N,index:1,children:e.jsxs(Pe,{children:[e.jsx(r,{color:he,gutterBottom:!0,children:'If the "distance to liquidation" exceeds the permitted limit, the bot will search for the exchange with the highest available margin and transfer the amount configured in section 2 (Hedging amount) to reduce the leverage.'}),e.jsxs(dt,{children:[e.jsx(ut,{sx:{position:"sticky",top:0,zIndex:10},children:e.jsxs(ye,{sx:{height:"48px"},children:[e.jsx(_,{align:"left",width:"40%",children:e.jsx(r,{color:"textSecondary",children:"Token"})}),e.jsx(_,{align:"left",children:e.jsxs(p,{display:"flex",gap:1,justifyContent:"flex-start",children:[e.jsx(r,{color:"textSecondary",children:"Buy"}),e.jsx($s,{sx:{fill:ht}})]})}),e.jsx(_,{align:"right",children:e.jsxs(p,{display:"flex",gap:1,justifyContent:"flex-end",children:[e.jsx(r,{color:"textSecondary",children:"Sell"}),e.jsx(Ds,{sx:{fill:Ms}})]})})]})}),e.jsx(pt,{children:f.map(({baseToken:d})=>{var G,g,y,D;const{tokenLeverageWarning:x}=s,L=d.toLowerCase(),X=((G=S==null?void 0:S[L])==null?void 0:G.buy)===void 0?x:(g=S==null?void 0:S[L])==null?void 0:g.buy,J=((y=S==null?void 0:S[L])==null?void 0:y.sell)===void 0?x:(D=S==null?void 0:S[L])==null?void 0:D.sell;return e.jsx(l.Fragment,{children:e.jsxs(ye,{children:[e.jsx(_,{children:e.jsxs(p,{display:"flex",alignItems:"center",gap:1,children:[e.jsx("img",{src:`https://assets.coincap.io/assets/icons/${L}@2x.png`,alt:d,width:20,height:20}),e.jsx(r,{children:d})]})}),e.jsx(_,{children:e.jsxs(p,{display:"flex",gap:1,justifyContent:"flex-start",alignItems:"center",children:[e.jsx(Bo,{sx:{opacity:.5}}),e.jsx(H,{sx:{width:"200px"},type:"number",size:"small",name:`${L}.buy`,value:X,onChange:ae,InputProps:{endAdornment:e.jsx(we,{position:"end",children:"%"})}})]})}),e.jsx(_,{align:"right",children:e.jsxs(p,{display:"flex",gap:1,justifyContent:"flex-end",alignItems:"center",children:[e.jsx(Xt,{sx:{opacity:.5}}),e.jsx(H,{sx:{width:"200px"},type:"number",size:"small",name:`${L}.sell`,value:J,onChange:ae,InputProps:{endAdornment:e.jsx(we,{position:"end",children:"%"})}})]})})]})},d)})})]}),e.jsx(p,{sx:{mt:2},display:"flex",alignItems:"center",justifyContent:"flex-end",children:e.jsx(O,{type:"submit",variant:"outlined",startIcon:e.jsx(Le,{}),disabled:n,onClick:()=>oe("positions"),children:n?"Saving...":"Save"})})]})})]})}),e.jsxs(Ae,{sx:{"& .MuiDialog-paper":{width:"650px"}},keepMounted:!1,maxWidth:"xl",open:te,onClose:()=>F(!1),children:[e.jsx(Ee,{sx:{fontSize:16,background:"#1e2026"},children:"Confirm Changes"}),e.jsx($e,{dividers:!0,sx:{padding:"16px 12px",background:"#1e2026"},children:e.jsxs(p,{display:"flex",flexDirection:"column",gap:2,my:2,children:[e.jsx(r,{variant:"subtitle1",children:"Review the following changes:"}),e.jsxs(pe,{severity:"warning",sx:{"& .MuiAlert-message":{width:"100%"}},children:[e.jsx(Ge,{children:"Important Note"}),"These changes will take effect after approximately 3 minutes."]}),w&&e.jsxs(p,{sx:{background:"rgba(0,0,0,0.03)",p:2,borderRadius:1,border:"1px solid rgba(0,0,0,0.1)"},children:[w.type==="force-close"&&e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(r,{color:"textSecondary",children:"Volume Threshold:"}),e.jsxs(r,{children:[w.changes.volumeThreshold," USDT"]})]}),w.type==="hedging"&&e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(r,{color:"textSecondary",children:"Hedging Amount:"}),e.jsxs(r,{children:[w.changes.hedgingAmount," USDT"]})]}),w.type==="exchange-leverages"&&e.jsxs(p,{display:"flex",flexDirection:"column",gap:1,children:[e.jsx(r,{color:"textSecondary",gutterBottom:!0,children:"Exchange Leverages:"}),Object.entries(w.changes.exchangeLeverages).length?Object.entries(w.changes.exchangeLeverages).map(([d,x])=>e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(r,{sx:{textTransform:"capitalize"},children:[d,":"]}),e.jsxs(r,{children:["x",x]})]},d)):e.jsx(r,{children:"No Exchange Leverages Set"})]}),w.type==="positions"&&e.jsxs(p,{display:"flex",flexDirection:"column",gap:1,children:[e.jsx(r,{color:"textSecondary",gutterBottom:!0,children:"Distance to Liquidation:"}),Object.entries(w.changes.tokenLiquidityDistance).length?Object.entries(w.changes.tokenLiquidityDistance).map(([d,x])=>e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[e.jsx(r,{sx:{textTransform:"uppercase"},children:d}),e.jsxs(r,{children:[x.buy!==void 0&&`Buy [-${x.buy}%]`,x.buy!==void 0&&x.sell!==void 0&&" or ",x.sell!==void 0&&`Sell [+${x.sell}%]`]})]},d)):e.jsx(r,{children:"No Token Liquidity Distance Set"})]})]}),e.jsx(H,{label:"2FA Token",name:"token",value:j,onChange:d=>I(d.target.value),fullWidth:!0,autoComplete:"off",sx:{mt:2}})]})}),e.jsxs(De,{sx:{width:"100%",background:"#1e2026"},children:[e.jsx(O,{color:"inherit",onClick:()=>F(!1),children:"Cancel"}),e.jsx(O,{onClick:ce,variant:"outlined",disabled:n||j.length<6||!$o(w),children:n?"Saving...":"Confirm"})]})]})]})}function $o(t){if(!t)return!0;const{type:s,changes:o}=t;switch(s){case"exchange-leverages":return!xt.isEmpty(o.exchangeLeverages);case"positions":return!xt.isEmpty(o.tokenLiquidityDistance);default:return!0}}function Wt(t){return{id:`simple-tab-${t}`,"aria-controls":`simple-tabpanel-${t}`}}const _=As(me)(()=>({padding:"12px 16px"}));function Ft(t){const{children:s,value:o,index:n,...a}=t;return e.jsx("div",{role:"tabpanel",hidden:o!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...a,children:o===n&&e.jsx(p,{sx:{p:0},children:s})})}function Do(t){const s=qt(),o=gt(),{allowed:n,onClose:a,open:u}=t,[h,m]=l.useState(""),f=C=>{m(C.target.value)},{enqueueSnackbar:j}=Yt(),I=zs(s.breakpoints.down("md")),[B,b]=l.useState(!1),T=async()=>{b(!0),je.put("/api/v1/groups/me",{isAllowedSharePortfolio:n,type:"share-portfolio",token:h}).then(()=>{j("Updated profile sharing settings",{variant:"success"}),o(ft()),a()}).catch(C=>{var E,A;C instanceof Se?j(((A=(E=C.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to launch bot",{variant:"error"}):j("An unexpected error occurred",{variant:"error"})}).finally(()=>{m(""),b(!1)})};return e.jsxs(Ae,{fullScreen:I,sx:{"& .MuiDialog-paper":{width:"650px"}},maxWidth:"xl",open:u,children:[e.jsxs(Ee,{sx:{fontSize:16,background:"#1e2026"},children:["Confirm to ",n?"share":"stop sharing"," profile"]}),e.jsx(Ye,{"aria-label":"close",onClick:a,sx:C=>({position:"absolute",right:8,top:8,color:C.palette.grey[500]}),children:e.jsx(Ws,{})}),e.jsx($e,{dividers:!0,sx:{background:"#1e2026",paddingBottom:"32px"},children:e.jsx(l.Fragment,{children:e.jsxs(r,{variant:"body1",gutterBottom:!0,children:["Are you sure you want to ",n?"share":"stop sharing"," your profile information with others?"]})})}),e.jsx(De,{sx:{width:"100%",background:"#1e2026"},children:e.jsxs(p,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",py:1,gap:16,px:"16px",children:[e.jsx(H,{label:"2FA Code",name:"token",value:h,onChange:f,required:!0,sx:{mb:2},placeholder:"Enter code from your authenticator app",inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"}}),e.jsx(Fs,{startIcon:e.jsx(Ns,{}),variant:"contained",disabled:h.length!==6,loading:B,onClick:T,children:"Confirm"})]})})]})}function Mo(){const[t,s]=l.useState(!1),o=re(Gt),n=re(Ze),[a,u]=l.useState(n.isAllowedSharePortfolio||!1),h=async()=>{s(!0)};return l.useEffect(()=>{u(n.isAllowedSharePortfolio||!1)},[n.isAllowedSharePortfolio]),e.jsxs(p,{maxWidth:"lg",display:"flex",flexDirection:"column",gap:"12px",py:"16px",children:[e.jsxs(p,{sx:{mb:4},display:"flex",flexDirection:"row",gap:"16px",justifyContent:"space-between",alignItems:"top",children:[e.jsxs(p,{display:"flex",flexDirection:"column",mb:2,children:[e.jsx(r,{variant:"h4",component:"h1",children:"Account overview"}),e.jsx(r,{color:"textSecondary",children:"Manage your profile information"})]}),e.jsx(Xe,{control:e.jsx(_e,{color:"success",checked:a,onChange:()=>{h()}}),label:"Share portfolio"})]}),e.jsxs(Y,{container:!0,rowGap:2,children:[e.jsx(Y,{size:6,children:e.jsx(r,{color:"text.secondary",children:"User ID"})}),e.jsx(Y,{size:6,children:e.jsx(r,{align:"right",children:o==null?void 0:o.id})}),e.jsx(Y,{size:6,children:e.jsx(r,{color:"text.secondary",children:"Email"})}),e.jsx(Y,{size:6,children:e.jsx(r,{align:"right",children:o==null?void 0:o.email})}),e.jsx(Y,{size:6,children:e.jsx(r,{color:"text.secondary",children:"Username"})}),e.jsx(Y,{size:6,children:e.jsx(r,{align:"right",children:(o==null?void 0:o.username)||"N/A"})}),e.jsx(Y,{size:6,children:e.jsx(r,{color:"text.secondary",children:"Group Code"})}),e.jsx(Y,{size:6,children:e.jsxs(p,{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px",children:[e.jsx(Ye,{size:"small",onClick:()=>{navigator.clipboard.writeText((o==null?void 0:o.groupCode)||""),Hs(`Copy ${(o==null?void 0:o.groupCode)||""}`,{variant:"success"})},children:e.jsx(Us,{})}),e.jsx(r,{align:"right",children:(o==null?void 0:o.groupCode)||"N/A"})]})}),e.jsx(Y,{size:6,children:e.jsx(r,{color:"text.secondary",children:"Group ID (for bot settings)"})}),e.jsx(Y,{size:6,children:e.jsx(r,{align:"right",children:o==null?void 0:o.groupId})})]}),e.jsx(Do,{allowed:!a,open:t,onClose:()=>s(!1)})]})}const qe="api-keys",at="telegram",it="bot-settings",ct="profile";function zo(){const t=re(Ze),s=re(Gt),[o,n]=Os(),a=o.get("q")||qe;return e.jsx(p,{display:"flex",flexDirection:"column",gap:"12px",py:"32px",children:e.jsxs(Y,{container:!0,children:[e.jsx(Y,{size:3,sx:{border:"1px solid rgba(255, 255, 255, 0.12)",borderRight:"none"},children:e.jsxs(Ks,{disablePadding:!0,children:[e.jsx(Ne,{disablePadding:!0,children:e.jsxs(Ue,{onClick:()=>n({q:ct}),sx:{borderLeft:a===ct?`2px solid ${he}`:""},children:[e.jsx(He,{children:e.jsx(Io,{})}),e.jsx(Oe,{primary:"Profile"})]})}),e.jsx(rt,{}),e.jsx(Ne,{disablePadding:!0,children:e.jsxs(Ue,{onClick:()=>n({q:qe}),sx:{borderLeft:a===qe?`2px solid ${he}`:""},children:[e.jsx(He,{children:e.jsx(qs,{})}),e.jsx(Oe,{primary:"API keys"})]})}),e.jsx(rt,{}),e.jsx(Ne,{disablePadding:!0,children:e.jsxs(Ue,{onClick:()=>n({q:at}),sx:{borderLeft:a===at?`2px solid ${he}`:""},children:[e.jsx(He,{children:e.jsx(Vs,{})}),e.jsx(Oe,{primary:"Telegram"})]})}),e.jsx(rt,{}),e.jsx(Ne,{disablePadding:!0,children:e.jsxs(Ue,{onClick:()=>n({q:it}),sx:{borderLeft:a===it?`2px solid ${he}`:""},children:[e.jsx(He,{children:e.jsx(To,{})}),e.jsx(Oe,{primary:"Hedging Bot"})]})})]})}),e.jsx(Y,{size:9,children:e.jsxs(p,{sx:{padding:2,border:"1px solid rgba(255, 255, 255, 0.12)"},children:[a===qe?e.jsx(Lo,{}):null,a===ct&&s!=null&&s.id&&t._id?e.jsx(Mo,{}):null,a===at&&t._id?e.jsx(Ao,{}):null,a===it&&t._id?e.jsx(Eo,{}):null]})})]})})}export{zo as default};
